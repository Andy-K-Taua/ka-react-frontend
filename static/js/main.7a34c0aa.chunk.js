(this["webpackJsonpka-react-frontend"]=this["webpackJsonpka-react-frontend"]||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),s=a(22),o=a.n(s),i=(a(75),a(13)),l=a(14),j=a(18),u=a(17),d=a(72),h=a(19),b={url:{API_URL:"https://krave-app.herokuapp.com"}},O=a(10),m=a.n(O),p=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",address:"",cuisine:"",menu_id:"",user_id:""},e.handleResNameChange=function(t){e.setState({name:t.target.value})},e.handleResAddressChange=function(t){e.setState({address:t.target.value})},e.handleResCusChange=function(t){e.setState({cuisine:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),m.a.post("".concat(b.url.API_URL,"/restaurants"),{name:e.state.name,address:e.state.address,cuisine:e.state.cuisine}).then((function(e){return console.log("res:",e)})).catch(console.warn),console.log("Mounted")},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)("label",{className:"inputLabel",children:"Restaurant Name"}),Object(n.jsx)("input",{type:"text",onChange:this.handleResNameChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{className:"inputLabel",children:"Restaurant Address"}),Object(n.jsx)("input",{type:"text",onChange:this.handleResAddressChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{className:"dropDown",children:"Cuisine Type"}),Object(n.jsxs)("select",{value:this.state.userType,onChange:this.handleResCusChange,children:[Object(n.jsx)("option",{value:"Select",children:"Select"}),Object(n.jsx)("option",{value:"Italian",children:"Italian"}),Object(n.jsx)("option",{value:"Japanese",children:"Japanese"}),Object(n.jsx)("option",{value:"Chinese",children:"Chinese"}),Object(n.jsx)("option",{value:"Modern Australian",children:"Modern Australian"}),Object(n.jsx)("option",{value:"Vietnamese",children:"Vietnamese"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{children:"Create Your Restaurant"})]})})}}]),a}(c.a.Component),x=a(9),g=a(5),f=a(27),v=a(24),C=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.history.push("/results/".concat(e.state.query))},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"backgroundImg"}),Object(n.jsxs)(g.a,{onSubmit:this.handleSubmit,children:[Object(n.jsxs)(g.a.Group,{controlId:"formHorizontalSearch",children:[Object(n.jsx)(g.a.Label,{}),Object(n.jsx)(v.a,{className:"searchBar",sm:4,children:Object(n.jsx)(g.a.Control,{type:"text",placeholder:"What are you kraving today?",onChange:this.handleChange})})]}),Object(n.jsx)(g.a.Group,{as:f.a,children:Object(n.jsx)(v.a,{children:Object(n.jsx)(x.a,{type:"submit",variant:"secondary",children:"Search"})})})]})]})}}]),a}(c.a.Component),y=a(55),S=function(e){var t=e.text;return Object(n.jsx)("div",{children:t})},w=function(e){var t=e.restaurant;return Object(n.jsxs)("div",{children:[t.name,Object(n.jsx)("img",{src:"http://www.fillmurray.com/25/25"})]})},I=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={lat:"",lng:"",zoom:9,restaurants:[],prevProps:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){e.setState({lat:t.coords.latitude,lng:t.coords.longitude});var a={params:{lat:t.coords.latitude,lng:t.coords.longitude}};m.a.get("".concat(b.url.API_URL,"/restaurants/location-search"),a).then((function(t){console.log(a),console.log("Response",t),console.log("Nearby Restaurants: ",t.data),e.setState({restaurants:t.data})})).catch((function(e){return console.warn(e)}))}),(function(){console.log("Could not access GPS data")}))}},{key:"render",value:function(){return Object(n.jsx)("div",{style:{height:"100vh",width:"100%"},children:Object(n.jsxs)(y.a,{bootstrapURLKeys:{key:"AIzaSyDR191L1r3AZQruQBZ38g7SekFs78a5b3U"},defaultCenter:{lat:this.state.lat,lng:this.state.lng},defaultZoom:this.state.zoom,children:[Object(n.jsx)(S,{lat:this.state.lat,lng:this.state.lng,text:"Your Location"}),this.state.restaurants.map((function(e){return Object(n.jsx)(w,{lat:e.latitude,lng:e.longitude,restaurant:e},e.id)}))]})})}}]),a}(r.Component),k=c.a.memo(I),L=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"popup",children:Object(n.jsxs)("div",{className:"popup_inner",children:[Object(n.jsx)("h1",{children:this.props.text}),Object(n.jsx)("div",{className:"close_button",children:Object(n.jsx)("button",{onClick:this.props.closePopup,children:"close me"})})]})})}}]),a}(c.a.Component),N=a(23),P=a(57),R=a(39),A=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={restaurant:{},menuItems:[],showPopup:!1},e.togglePopup=function(){console.log("togglePopup clicked"),e.setState({showPopup:!e.state.showPopup})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("".concat(b.url.API_URL,"/restaurants/").concat(this.props.match.params.id)).then((function(t){console.log("res",t),e.setState({restaurant:t.data.restaurant,menuItems:t.data.menuItems})})).catch(console.warn)}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"displayMenus",children:[this.state.showPopup?Object(n.jsx)(L,{text:"Nutrition",closePopup:this.togglePopup}):null,this.state.menuItems.map((function(t){return Object(n.jsx)(N.a,{style:{width:"18rem"},children:Object(n.jsxs)(N.a.Body,{children:[Object(n.jsx)(N.a.Img,{variant:"top",src:t.image}),Object(n.jsx)(N.a.Title,{children:t.name}),Object(n.jsx)(N.a.Text,{children:"This is a description of the restaurant"}),Object(n.jsxs)(P.a,{className:"list-group-flush",children:[Object(n.jsx)(R.a,{onClick:e.togglePopup,children:t.menu_item}),Object(n.jsx)(R.a,{children:t.item_description})]})]})},t.id)}))]})})}}]),a}(c.a.Component),_=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={search:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("jwtToken");if(console.log("authHeader",t),"null"===t)return console.log("got here",this.props),void this.props.history.push("/login");m.a.get("".concat(b.url.API_URL,"/search"),{params:{search:this.props.match.params.query}}).then((function(t){e.setState({search:t.data}),console.log("Response",t)})).catch((function(e){console.warn(e)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"displayMenus",children:this.state.search.map((function(e){return Object(n.jsxs)(N.a,{style:{width:"18rem"},children:[Object(n.jsxs)(N.a.Body,{children:[Object(n.jsx)(N.a.Img,{variant:"top",src:"http://placekitten.com/200/200"}),Object(n.jsx)(N.a.Title,{children:e.name}),Object(n.jsx)(N.a.Text,{children:"This is where we write some info about the restaurant"})]}),Object(n.jsxs)(P.a,{className:"list-group-flush",children:[Object(n.jsx)(R.a,{children:e.address}),Object(n.jsx)(R.a,{children:e.cuisine})]}),Object(n.jsx)(N.a.Body,{children:Object(n.jsx)(N.a.Link,{href:"#/restaurant/".concat(e.id),children:e.name})})]},e.id)}))}),Object(n.jsx)(k,{})]})}}]),a}(c.a.Component),T=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={authorisation:"",name:"",email:"",password:"",password_confirmation:""},e.handleChangeType=function(t){"Customer"===t.target.value?e.setState({authorisation:2}):"Restaurant Owner"===t.target.value&&e.setState({authorisation:1})},e.handleUseNamChangeType=function(t){e.setState({name:t.target.value})},e.handleUseEmaChangeType=function(t){e.setState({email:t.target.value})},e.handlePassConChangeType=function(t){e.setState({password_confirmation:t.target.value})},e.handlePassChangeType=function(t){e.setState({password:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a={user:{name:e.state.name,email:e.state.email,password:e.state.password,password_confirmation:e.state.password_confirmation,authorisation:2}};m.a.post("".concat(b.url.API_URL,"/users"),a).then((function(e){return console.log("res:",e)})).catch(console.warn)},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"signupHeading",children:"Sign Up Here"}),Object(n.jsx)(g.a,{onSubmit:this.handleSubmit,className:"centerForm",children:Object(n.jsxs)("div",{className:"formLayout",children:[Object(n.jsxs)(g.a.Group,{as:f.a,controlId:"formHorizontalSelect",children:[Object(n.jsx)(g.a.Label,{column:!0,sm:2,className:"dropDown",children:"Restaurant Owner or Customer?"}),Object(n.jsx)(v.a,{sm:5,children:Object(n.jsxs)(g.a.Control,{as:"select",value:this.state.userType,onChange:this.handleChangeType,children:[Object(n.jsx)("option",{children:"Select"}),Object(n.jsx)("option",{children:"Restaurant Owner"}),Object(n.jsx)("option",{children:"Customer"})]})})]}),Object(n.jsxs)(g.a.Group,{as:f.a,controlId:"formHorizontalName",children:[Object(n.jsx)(g.a.Label,{column:!0,sm:2,children:"User Name"}),Object(n.jsx)(v.a,{sm:5,children:Object(n.jsx)(g.a.Control,{type:"name",placeholder:"Enter you name",onChange:this.handleUseNamChangeType})})]}),Object(n.jsxs)(g.a.Group,{as:f.a,controlId:"formHorizontalEmail",children:[Object(n.jsx)(g.a.Label,{column:!0,sm:2,children:"User Email"}),Object(n.jsx)(v.a,{sm:5,children:Object(n.jsx)(g.a.Control,{type:"email",placeholder:"Enter your email",onChange:this.handleUseEmaChangeType})})]}),Object(n.jsxs)(g.a.Group,{as:f.a,controlId:"formBasicPassword",children:[Object(n.jsx)(g.a.Label,{column:!0,sm:2,children:"Enter password"}),Object(n.jsx)(v.a,{sm:5,children:Object(n.jsx)(g.a.Control,{type:"password",placeholder:"Enter new password",onChange:this.handlePassChangeType})})]}),Object(n.jsxs)(g.a.Group,{as:f.a,controlId:"formBasicConfPassword",children:[Object(n.jsx)(g.a.Label,{column:!0,sm:2,children:"Confirm password"}),Object(n.jsx)(v.a,{sm:5,children:Object(n.jsx)(g.a.Control,{type:"password",placeholder:"confirm password",onChange:this.handlePassConChangeType})})]}),Object(n.jsx)(g.a.Group,{as:f.a,children:Object(n.jsx)(v.a,{sm:{span:10,offset:2},children:Object(n.jsx)(x.a,{variant:"primary",type:"submit",children:"Create Account"})})})]})})]})})}}]),a}(c.a.Component),E=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={userEmail:"",userPassword:"",errorMessage:""},e.handleChangeEmail=function(t){e.setState({userEmail:t.target.value})},e.handleChangePassword=function(t){e.setState({userPassword:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a={auth:{email:e.state.userEmail,password:e.state.userPassword}};m.a.post("".concat(b.url.API_URL,"/user_token"),a).then((function(t){console.log(t);var a="Bearer "+t.data.jwt;localStorage.setItem("jwtToken",a),m.a.defaults.headers.common.Authorization=a,e.props.history.push("/")})).catch((function(t){404===t.response.status&&e.setState({errorMessage:"Invalid user name or password, please try again"}),console.dir(t)}))},e.handleLogin=function(e){},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"signupHeading",children:"Login"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:this.state.errorMessage}),Object(n.jsxs)(g.a,{onSubmit:this.handleSubmit,className:"centerForm",children:[Object(n.jsxs)(g.a.Group,{as:f.a,controlId:"formHorizontalEmail",children:[Object(n.jsx)(g.a.Label,{column:!0,sm:1,className:"Email",children:"Email"}),Object(n.jsx)(v.a,{sm:6,children:Object(n.jsx)(g.a.Control,{type:"email",placeholder:"Enter email",onChange:this.handleChangeEmail})})]}),Object(n.jsxs)(g.a.Group,{as:f.a,controlId:"formHorizontalPassword",children:[Object(n.jsx)(g.a.Label,{column:!0,sm:1,className:"Password",children:"Login Password"}),Object(n.jsx)(v.a,{sm:6,children:Object(n.jsx)(g.a.Control,{type:"password",placeholder:"Enter password",onChange:this.handleChangePassword})})]}),Object(n.jsx)(g.a.Group,{as:f.a,children:Object(n.jsx)(v.a,{sm:{span:10,offset:1},children:Object(n.jsx)(x.a,{variant:"primary",type:"submit",onClick:this.handlesubmit,children:"Login"})})})]})]})]})}}]),a}(c.a.Component),G=a(53),B=a(85),U=a(42),D=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"handleLogout",value:function(){localStorage.setItem("jwtToken",null),m.a.defaults.headers.common.Authorization=null}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(G.a,{bg:"light",expand:"lg",children:[Object(n.jsx)(G.a.Brand,{href:"/",children:"Krave"}),Object(n.jsx)(G.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(G.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsx)("div",{className:"navbar",children:Object(n.jsxs)(B.a,{className:"mr-auto",children:[Object(n.jsx)(U.a,{title:"Restaurants",id:"basic-nav-dropdown",children:Object(n.jsx)(U.a.Item,{href:"#/restaurants/signup",children:"Sign Up"})}),Object(n.jsxs)(U.a,{title:"User",id:"basic-nav-dropdown",children:[Object(n.jsx)(U.a.Item,{href:"#/signup",children:"Sign Up"}),Object(n.jsx)(U.a.Divider,{}),Object(n.jsx)(U.a.Item,{href:"#/login",children:"Login"}),Object(n.jsx)(U.a.Item,{onClick:this.handleLogout,href:"/",children:"Logout"})]})]})})})]})})}}]),a}(c.a.Component),H=a(68),M=a(11),F=a(8);var z=function(e){var t=Object(r.useState)(!1),a=Object(M.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(""),i=Object(M.a)(o,2),l=i[0],j=i[1],u=Object(r.useState)(""),d=Object(M.a)(u,2),h=d[0],O=d[1],p=Object(r.useState)(""),f=Object(M.a)(p,2),v=f[0],C=f[1],y=function(){return s(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x.a,{variant:"outline-primary",size:"sm",className:"buttonSpacing",onClick:function(){return s(!0)},children:"Edit"}),Object(n.jsxs)(F.a,{show:c,onHide:y,children:[Object(n.jsx)(F.a.Header,{closeButton:!0,children:Object(n.jsx)(F.a.Title,{children:e.menu.menu_item})}),Object(n.jsx)(F.a.Body,{children:Object(n.jsxs)(g.a,{onSubmit:function(){m.a.patch("".concat(b.url.API_URL,"/menus/").concat(e.menu.id),{menu:{menu_item:l,item_description:h,image:v}}).then((function(e){console.log(e)})).catch((function(e){console.warn(e)}))},id:"editMenu",children:[Object(n.jsxs)(g.a.Group,{controlId:"menuItem",children:[Object(n.jsx)(g.a.Label,{children:"Menu Item Name"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:e.menu.menu_item,onChange:function(e){return j(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"itemDescription",children:[Object(n.jsx)(g.a.Label,{children:"Item Description"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:e.menu.item_description,onChange:function(e){return O(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"imageLink",children:[Object(n.jsx)(g.a.Label,{children:"Image Link"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:e.menu.image,onChange:function(e){return C(e.target.value)}})]})]})}),Object(n.jsxs)(F.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"secondary",onClick:y,children:"Close"}),Object(n.jsx)(x.a,{type:"submit",variant:"primary",form:"editMenu",onClick:y,children:"Save Changes"})]})]})]})};var q=function(e){var t=Object(r.useState)(!1),a=Object(M.a)(t,2),c=a[0],s=a[1],o=function(){return s(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x.a,{variant:"outline-danger",size:"sm",className:"buttonSpacing",onClick:function(){return s(!0)},children:"Delete"}),Object(n.jsxs)(F.a,{show:c,onHide:o,children:[Object(n.jsx)(F.a.Header,{closeButton:!0,children:Object(n.jsx)(F.a.Title,{children:"Confirm Delete"})}),Object(n.jsxs)(F.a.Body,{children:["Are you sure you want to delete ",Object(n.jsx)("strong",{children:e.menu.menu_item})]}),Object(n.jsxs)(F.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"secondary",onClick:o,children:"Close"}),Object(n.jsx)(x.a,{variant:"danger",onClick:function(){s(!1),m.a.delete("".concat(b.url.API_URL,"/menus/").concat(e.menu.id)).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"Delete"})]})]})]})};var K=function(e){var t=Object(r.useState)(!1),a=Object(M.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(""),i=Object(M.a)(o,2),l=i[0],j=i[1],u=Object(r.useState)(""),d=Object(M.a)(u,2),h=d[0],O=d[1],p=Object(r.useState)(""),f=Object(M.a)(p,2),v=f[0],C=f[1],y=Object(r.useState)(""),S=Object(M.a)(y,2),w=S[0],I=S[1],k=Object(r.useState)(""),L=Object(M.a)(k,2),N=L[0],P=L[1],R=function(){return s(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x.a,{variant:"outline-primary",size:"sm",className:"buttonSpacing",onClick:function(){return s(!0)},children:"Edit"}),Object(n.jsxs)(F.a,{show:c,onHide:R,children:[Object(n.jsx)(F.a.Header,{closeButton:!0,children:Object(n.jsx)(F.a.Title,{children:e.restaurant.name})}),Object(n.jsx)(F.a.Body,{children:Object(n.jsxs)(g.a,{onSubmit:function(){m.a.patch("".concat(b.url.API_URL,"/restaurants/").concat(e.restaurant.id),{restaurant:{name:l,address:h,cuisine:v,description:w,image:N}}).then((function(e){console.log(e)})).catch((function(e){console.warn(e)}))},id:"editRest",children:[Object(n.jsxs)(g.a.Group,{controlId:"name",children:[Object(n.jsx)(g.a.Label,{children:"Restaurant Name"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:e.restaurant.name,onChange:function(e){return j(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"address",children:[Object(n.jsx)(g.a.Label,{children:"Address"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:e.restaurant.address,onChange:function(e){return O(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"cuisine",children:[Object(n.jsx)(g.a.Label,{children:"Cuisine"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:e.restaurant.cuisine,onChange:function(e){return C(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"description",children:[Object(n.jsx)(g.a.Label,{children:"Description"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:e.restaurant.description,onChange:function(e){return I(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"image",children:[Object(n.jsx)(g.a.Label,{children:"Image"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:e.restaurant.image,onChange:function(e){return P(e.target.value)}})]})]})}),Object(n.jsxs)(F.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"secondary",onClick:R,children:"Close"}),Object(n.jsx)(x.a,{type:"submit",variant:"primary",form:"editRest",onClick:R,children:"Save Changes"})]})]})]})};var J=function(e){var t=Object(r.useState)(!1),a=Object(M.a)(t,2),c=a[0],s=a[1],o=function(){return s(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x.a,{variant:"outline-danger",size:"sm",className:"buttonSpacing",onClick:function(){return s(!0)},children:"Delete"}),Object(n.jsxs)(F.a,{show:c,onHide:o,children:[Object(n.jsx)(F.a.Header,{closeButton:!0,children:Object(n.jsx)(F.a.Title,{children:"Confirm Delete"})}),Object(n.jsxs)(F.a.Body,{children:["Are you sure you want to delete ",Object(n.jsx)("strong",{children:e.restaurant.name})]}),Object(n.jsxs)(F.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"secondary",onClick:o,children:"Close"}),Object(n.jsx)(x.a,{variant:"danger",onClick:function(){s(!1),m.a.delete("".concat(b.url.API_URL,"/restaurants/").concat(e.restaurant.id)).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"Delete"})]})]})]})};var Y=function(e){var t=Object(r.useState)(!1),a=Object(M.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(""),i=Object(M.a)(o,2),l=i[0],j=i[1],u=Object(r.useState)(""),d=Object(M.a)(u,2),h=d[0],O=d[1],p=Object(r.useState)(""),f=Object(M.a)(p,2),v=f[0],C=f[1],y=function(){return s(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x.a,{variant:"primary",size:"sm",className:"addButton",onClick:function(){return s(!0)},children:"Add Menu Item"}),Object(n.jsxs)(F.a,{show:c,onHide:y,children:[Object(n.jsx)(F.a.Header,{closeButton:!0,children:Object(n.jsx)(F.a.Title,{children:"Create New Menu Item"})}),Object(n.jsx)(F.a.Body,{children:Object(n.jsxs)(g.a,{onSubmit:function(){m.a.post("".concat(b.url.API_URL,"/menus"),{menu:{menu_item:l,item_description:h,image:v,restaurant_id:e.restaurantId}}).then((function(e){console.log(e)})).catch((function(e){console.warn(e)}))},id:"createMenu",children:[Object(n.jsxs)(g.a.Group,{controlId:"menuItem",children:[Object(n.jsx)(g.a.Label,{children:"Menu Item Name"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:"Enter menu item name",onChange:function(e){return j(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"itemDescription",children:[Object(n.jsx)(g.a.Label,{children:"Item Description"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:"Enter item description",onChange:function(e){return O(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"imageLink",children:[Object(n.jsx)(g.a.Label,{children:"Image Link"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:"Enter image link location",onChange:function(e){return C(e.target.value)}})]})]})}),Object(n.jsxs)(F.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"secondary",onClick:y,children:"Close"}),Object(n.jsx)(x.a,{type:"submit",variant:"primary",form:"createMenu",onClick:y,children:"Save Changes"})]})]})]})};var Z=function(e){var t=Object(r.useState)(!1),a=Object(M.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(""),i=Object(M.a)(o,2),l=i[0],j=i[1],u=Object(r.useState)(""),d=Object(M.a)(u,2),h=d[0],O=d[1],p=Object(r.useState)(""),f=Object(M.a)(p,2),v=f[0],C=f[1],y=Object(r.useState)(""),S=Object(M.a)(y,2),w=S[0],I=S[1],k=Object(r.useState)(""),L=Object(M.a)(k,2),N=L[0],P=L[1],R=function(){return s(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x.a,{variant:"primary",className:"addButton",onClick:function(){return s(!0)},children:"Add Restaurant"}),Object(n.jsxs)(F.a,{show:c,onHide:R,children:[Object(n.jsx)(F.a.Header,{closeButton:!0,children:Object(n.jsx)(F.a.Title,{children:"Create New Restaurant"})}),Object(n.jsx)(F.a.Body,{children:Object(n.jsxs)(g.a,{onSubmit:function(){m.a.post("".concat(b.url.API_URL,"/restaurants"),{restaurant:{name:l,address:h,cuisine:v,description:w,image:N},user_id:e.userId}).then((function(e){console.log(e)})).catch((function(e){console.warn(e)}))},id:"createRest",children:[Object(n.jsxs)(g.a.Group,{controlId:"name",children:[Object(n.jsx)(g.a.Label,{children:"Restaurant Name"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:"Enter restaurant name",onChange:function(e){return j(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"address",children:[Object(n.jsx)(g.a.Label,{children:"Address"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:"Enter restaurant address",onChange:function(e){return O(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"cuisine",children:[Object(n.jsx)(g.a.Label,{children:"Cuisine"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:"Enter restaurant cuisine",onChange:function(e){return C(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"description",children:[Object(n.jsx)(g.a.Label,{children:"Description"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:"Enter restaurant description",onChange:function(e){return I(e.target.value)}})]}),Object(n.jsxs)(g.a.Group,{controlId:"image",children:[Object(n.jsx)(g.a.Label,{children:"Image"}),Object(n.jsx)(g.a.Control,{type:"text",placeholder:"Enter image location",onChange:function(e){return P(e.target.value)}})]})]})}),Object(n.jsxs)(F.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"secondary",onClick:R,children:"Close"}),Object(n.jsx)(x.a,{type:"submit",variant:"primary",form:"createRest",onClick:R,children:"Save Changes"})]})]})]})},Q=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:{},restaurants:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("".concat(b.url.API_URL,"/control")).then((function(t){console.log(t),e.setState({user:t.data,restaurants:t.data.restaurants})})).catch((function(e){console.warn(e)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"controlPanel",children:[Object(n.jsxs)("h2",{children:["Welcome back ",this.state.user.name,"!"]}),Object(n.jsx)("h4",{children:"Your restaurants:"}),this.state.restaurants.length>0&&Object(n.jsxs)(H.a,{children:[this.state.restaurants.map((function(e,t){return Object(n.jsxs)(N.a,{className:"accordianContainer",children:[Object(n.jsx)(H.a.Toggle,{as:N.a.Header,eventKey:t.toString(),children:Object(n.jsxs)("div",{className:"headingContainer",children:[Object(n.jsxs)("div",{className:"headingText",children:[Object(n.jsx)("span",{className:"accordianSpacing",children:Object(n.jsx)("strong",{children:e.name})}),Object(n.jsx)("span",{className:"accordianSpacing",children:Object(n.jsx)("em",{children:e.cuisine})})]}),Object(n.jsxs)("div",{className:"headingButtons",children:[Object(n.jsx)(K,{restaurant:e}),Object(n.jsx)(J,{restaurant:e})]})]})}),Object(n.jsx)(H.a.Collapse,{eventKey:t.toString(),children:Object(n.jsxs)(N.a.Body,{children:[e.menus.map((function(e){return Object(n.jsxs)("div",{className:"itemContainer",children:[Object(n.jsxs)("div",{className:"textContainer",children:[Object(n.jsx)("span",{className:"accordianSpacing menuIndent",children:Object(n.jsx)("strong",{children:e.menu_item})}),Object(n.jsx)("span",{className:"accordianSpacing",children:e.item_description})]}),Object(n.jsxs)("div",{className:"buttonContainer",children:[Object(n.jsx)(z,{menu:e}),Object(n.jsx)(q,{menu:e})]}),Object(n.jsx)("br",{})]},e.id)})),Object(n.jsx)("br",{}),Object(n.jsx)(Y,{restaurantId:e.id})]})})]},e.id)})),Object(n.jsx)(Z,{userId:this.state.user.id})]})]})}}]),a}(c.a.Component),V=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedIn:!1},e}return Object(l.a)(a,[{key:"userStatus",value:function(e){this.setState({isLoggedIn:!this.state.isLoggedIn})}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(D,{}),Object(n.jsxs)(d.a,{children:[Object(n.jsx)(h.a,{exact:!0,path:"/",component:C}),Object(n.jsx)(h.a,{exact:!0,path:"/results/:query",component:_}),Object(n.jsx)(h.a,{exact:!0,path:"/restaurant/:id",component:A}),Object(n.jsx)(h.a,{exact:!0,path:"/restaurants/signup",component:p}),Object(n.jsx)(h.a,{exact:!0,path:"/signup",component:T}),Object(n.jsx)(h.a,{exact:!0,path:"/login",component:E}),Object(n.jsx)(h.a,{exact:!0,path:"/control",component:Q})]}),Object(n.jsx)("div",{className:"footer",children:Object(n.jsx)("footer",{children:"\xa9 Krave 2021 - All Right Reserved."})})]})}}]),a}(c.a.Component),W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,126)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(120);m.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken"),o.a.render(Object(n.jsx)(V,{}),document.getElementById("root")),W()},75:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.7a34c0aa.chunk.js.map