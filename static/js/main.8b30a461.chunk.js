(this["webpackJsonpka-react-frontend"]=this["webpackJsonpka-react-frontend"]||[]).push([[0],{35:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),r=n(28),i=n.n(r),o=(n(35),n(4)),l=n(5),u=n(7),h=n(6),j=n(14),d=n(2),b={url:{API_URL:"https://krave-app.herokuapp.com"}},O=n(9),p=n.n(O),m=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={name:"",address:"",cuisine:"",menu_id:"",user_id:""},e.handleResNameChange=function(t){e.setState({name:t.target.value})},e.handleResAddressChange=function(t){e.setState({address:t.target.value})},e.handleResCusChange=function(t){e.setState({cuisine:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),p.a.post("".concat(b.url.API_URL,"/restaurants"),{name:e.state.name,address:e.state.address,cuisine:e.state.cuisine}).then((function(e){return console.log("res:",e)})).catch(console.warn)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("label",{className:"inputLabel",children:"Restaurant Name"}),Object(a.jsx)("input",{type:"text",onChange:this.handleResNameChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"inputLabel",children:"Restaurant Address"}),Object(a.jsx)("input",{type:"text",onChange:this.handleResAddressChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"dropDown",children:"Cuisine Type"}),Object(a.jsxs)("select",{value:this.state.userType,onChange:this.handleResCusChange,children:[Object(a.jsx)("option",{value:"Select",children:"Select"}),Object(a.jsx)("option",{value:"Italian",children:"Italian"}),Object(a.jsx)("option",{value:"Japanese",children:"Japanese"}),Object(a.jsx)("option",{value:"Chinese",children:"Chinese"}),Object(a.jsx)("option",{value:"Modern Australian",children:"Modern Australian"}),Object(a.jsx)("option",{value:"Vietnamese",children:"Vietnamese"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{children:"Create Your Restaurant"})]})})}}]),n}(s.a.Component),x=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={query:""},e.handleChange=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.history.push("/results/".concat(e.state.query))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("label",{htmlFor:"search",children:"Search for a restaurant or cuisine!"}),Object(a.jsx)("input",{type:"text",id:"search",placeholder:"What are you kraving today?",onChange:this.handleChange}),Object(a.jsx)("button",{children:"Search!"})]})})}}]),n}(s.a.Component),f=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={restaurant:{},menuItems:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(b.url.API_URL,"/restaurants/").concat(this.props.match.params.id)).then((function(t){console.log("res",t),e.setState({restaurant:t.data.restaurant,menuItems:t.data.menuItems})})).catch(console.warn)}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Image"}),Object(a.jsx)("th",{children:"Item"}),Object(a.jsx)("th",{children:"Description"})]})}),Object(a.jsx)("tbody",{children:this.state.menuItems.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("img",{src:e.image,alt:""})}),Object(a.jsx)("td",{children:e.menu_item}),Object(a.jsx)("td",{children:e.item_description})]},e.id)}))})]})})}}]),n}(s.a.Component),g=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={search:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(b.url.API_URL,"/search"),{params:{search:this.props.match.params.query}}).then((function(t){e.setState({search:t.data})})).catch((function(e){console.warn(e)}))}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Restaurant"}),Object(a.jsx)("th",{children:"Cuisine"}),Object(a.jsx)("th",{children:"Address"})]})}),Object(a.jsx)("tbody",{children:this.state.search.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(j.b,{to:"/restaurant/".concat(e.id),children:e.name})}),Object(a.jsx)("td",{children:e.cuisine}),Object(a.jsx)("td",{children:e.address})]},e.id)}))})]})})}}]),n}(s.a.Component),v=(s.a.Component,function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={userEmail:"",userPassword:""},e.handleChangeEmail=function(t){e.setState({userEmail:t.target.value})},e.handleChangePassword=function(t){e.setState({userPassword:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var n={auth:{email:e.state.userEmail,password:e.state.userPassword}};p.a.post("".concat(b.url.API_URL,"/user_token"),n).then((function(e){console.log(e),localStorage.setItem("jwtToken","Bearer "+e.data.jwt),p.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken")})).catch((function(e){console.warn(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h2",{children:"Login"}),Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("label",{className:"Email",children:["Email",Object(a.jsx)("input",{type:"text",onChange:this.handleChangeEmail})]}),Object(a.jsxs)("label",{className:"Password",children:["Login Password",Object(a.jsx)("input",{type:"password",onChange:this.handleChangePassword})]}),Object(a.jsx)("button",{children:"Login"}),Object(a.jsx)("br",{})]})})]})}}]),n}(s.a.Component)),y=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){p.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken")}},{key:"handleLogout",value:function(){localStorage.setItem("jwtToken",null),p.a.defaults.headers.common.Authorization=null}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(j.a,{children:[Object(a.jsxs)("nav",{children:[Object(a.jsx)(j.b,{to:"/restaurants/signup",children:"New Restaurant"}),Object(a.jsx)(j.b,{to:"/",onClick:this.handleLogout,children:"Log out"})]}),Object(a.jsx)(d.a,{exact:!0,path:"/",component:x}),Object(a.jsx)(d.a,{exact:!0,path:"/results/:query",component:g}),Object(a.jsx)(d.a,{exact:!0,path:"/restaurant/:id",component:f}),Object(a.jsx)(d.a,{exact:!0,path:"/restaurants/signup",component:m}),Object(a.jsx)(d.a,{exact:!0,path:"/login",component:v})]})})}}]),n}(s.a.Component),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root")),C()}},[[62,1,2]]]);
//# sourceMappingURL=main.8b30a461.chunk.js.map